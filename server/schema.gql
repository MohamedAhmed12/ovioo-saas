# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

"""profiles"""
type Profile {
  id: ID!
  company_name: String
  company_website: String
  business_info: String
  target_audience: String
  company_links: String
  push_notification_enabled: Boolean!
  mail_notification_enabled: Boolean!
  created_at: DateTime!
  updated_at: DateTime!
  user: User!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

"""users"""
type User {
  id: ID!
  fullname: String!
  email: String!
  avatar: String
  company: String
  phone: Int
  provider: String!
  created_at: DateTime!
  updated_at: DateTime!
  profile: Profile!
  role: UserRoleEnum!
  team: Team!
  tasks: [Task!]!
}

enum UserRoleEnum {
  User
  Member
  Admin
  Designer
}

"""teams"""
type Team {
  id: ID!
  name: String
  owner_id: Float!
  members: [User!]!
  projects: [Project!]!
  tasks: [Task!]!
}

"""task-types"""
type TaskType {
  id: ID!
  title: String
  info: [String!]
  extraInfo: String
  plan: String
}

"""tasks"""
type Task {
  id: ID!
  title: String!
  description: String
  status: String
  type: TaskType!
  project: Project!
  team: Team!
  designer: User
  assets: [Asset!]!
  children: [Task!]
  parent: Task
}

"""project"""
type Project {
  id: ID!
  title: String!
  description: String!
  team: Team!
  tasks: [Task!]!
  assets: [Asset!]!
}

"""asset"""
type Asset {
  id: ID!
  path: String!
  project: Project!
  task: Task!
}

type Query {
  getHello: String!
  me: User!
  findProfile: Profile!
  getTeam: Team!
  listTaskTypes: [TaskType!]!
  listTasks: [Task!]!
  showTask(id: String!): Task!
  listProjects: [Project!]!
  showProject(id: String!): Project!
}

type Mutation {
  login(user: LoginDto!): User!
  register(user: RegisterDto!): User!
  changePassword(data: ChangePasswordDto!): Boolean!
  updateUser(data: UpdateUserDto!): User!
  createMember(member: CreateMemberDto!): User!
  deleteMember(member: DeleteMemberDto!): Boolean!
  findOrCreateSsoUser(user: CreateSsoUserDto!): User!
  updateProfile(profile: UpdateProfileDto!): Profile!
  transferOwnership(id: String!): Boolean!
  createTask(data: CreateTaskDto!): Task!
  createProject(data: CreateProjectDto!): Project!
  updateProject(data: UpdateProjectDto!): Boolean!
  deleteProject(id: String!): Boolean!
}

input LoginDto {
  email: String!
  password: String!
}

input RegisterDto {
  email: String!
  password: String!
  fullname: String!
  password_confirmation: String!
  company: String
  phone: Float
  provider: String!
}

input ChangePasswordDto {
  current_password: String!
  password: String!
  password_confirmation: String!
}

input UpdateUserDto {
  avatar: String
  fullname: String
  email: String
  phone: Float
}

input CreateMemberDto {
  email: String!
  fullname: String!
}

input DeleteMemberDto {
  id: String!
}

input CreateSsoUserDto {
  fullname: String
  email: String!
  avatar: String
  provider: String!
}

input UpdateProfileDto {
  id: String!
  company_name: String
  company_website: String
  business_info: String
  target_audience: String
  company_links: String
  push_notification_enabled: Boolean
  mail_notification_enabled: Boolean
  created_at: DateTime
  updated_at: DateTime
}

input CreateTaskDto {
  title: String!
  project_id: String!
  type_id: String!
  status: TaskStatusEnum!
}

enum TaskStatusEnum {
  IN_QUEUE
  IN_PROGRESS
  REVIEW
  ON_HOLD
  DONE
}

input CreateProjectDto {
  title: String!
  description: String!
}

input UpdateProjectDto {
  title: String!
  description: String!
  id: String!
}